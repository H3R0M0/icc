{% if lesson != null %}
    <div class="lesson print">
        {%- set gradesWithCourseNames = gradesWithCourseNames|default([]) -%}
        {%- set showCourseName = false -%}
        {%- for grade in lesson.tuition.studyGroup.grades -%}
            {% if grade.id in gradesWithCourseNames -%}
                {% set showCourseName = true -%}
            {% endif -%}
        {%- endfor -%}
        <strong>
            {%- if showCourseName -%}
                {{ lesson.tuition.studyGroup.name }}
            {%- else -%}
                {{ lesson.tuition.subject.abbreviation }}
            {%- endif -%}
        </strong>

        {% if teacherFilter.currentTeacher is not null %}
            {% for g in lesson.tuition.studyGroup.grades %}{{ g.name }}{% if not loop.last %}, {% endif %}{% endfor %}
        {% else %}
            {{ lesson.tuition.teacher.getAcronym() }}
        {% endif %}

        {% if roomFilter.currentRoom != null %}
            ({% for g in lesson.tuition.studyGroup.grades %}{{ g.name }}{% if not loop.last %}, {% endif %}{% endfor %})
        {% elseif not lesson.room is null %}
            ({{ lesson.room.name }})
        {% endif %}
    </div>
{% endif %}