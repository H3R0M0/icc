{% extends "profile/_profile.twig" %}

{% use "bootstrap_4_layout.html.twig" %}

{% block title %}{{ 'profile.overview.label'|trans }}{% endblock %}

{% block notifications_active %}active{% endblock %}

{% block profile_content %}
    {% if is_allowed %}

        {% if push_allowed %}
            <div class="bs-callout bs-callout-info">
                <h4>{{ 'webpush.label'|trans }}</h4>

                <div class="alert alert-danger">
                    <i class="fa fa-exclamation-triangle"></i> {{ 'webpush.caution.experimental'|trans }}
                </div>

                <p>{{ 'webpush.info'|trans }}</p>
                <a href="#" data-toggle="webpush_modal" class="btn btn-primary btn-sm">
                    <i class="far fa-bell"></i> {{ 'webpush.configure'|trans }}
                </a>
            </div>
        {% endif %}

        {{ form_start(form) }}
        {{ form_widget(form) }}

        <div class="buttons">
            <button type="submit" class="btn btn-primary btn-sm">
                <i class="fa fa-save"></i> {{ 'action.save'|trans }}
            </button>
        </div>

        {{ form_end(form) }}
    {% else %}
        <div class="bs-callout bs-callout-info mb-0">
            <h4><i class="fa fa-info-circle"></i> {{ 'info.label'|trans }}</h4>
            <p>{{ 'profile.notifications.not_allowed'|trans }}</p>
        </div>
    {% endif %}
{% endblock %}